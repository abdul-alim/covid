(this["webpackJsonpcovid19-india"]=this["webpackJsonpcovid19-india"]||[]).push([[0],{36:function(e,a,t){e.exports=t(66)},41:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(32),s=t.n(c),l=(t(41),t(11)),o=t(10),i=t(1);var m=function(e){var a=e.pages,t=Object(n.useState)(!1),c=Object(i.a)(t,2);return c[0],c[1],r.a.createElement("nav",{className:"flex items-center flex-wrap bg-white text-primary py-2"},r.a.createElement("div",{className:"container py-2 px-2 items-center font-bold text-lg"},r.a.createElement("div",{className:"w-full flex items-center justify-between -my-2"},r.a.createElement("div",{className:"flex items-center cursor-pointer lg:flex"},r.a.createElement("img",{src:"/images/covid.svg",alt:"logo",className:"h-10 w-auto mr-3"}),r.a.createElement("div",{className:"text-xl font-bold text-black text-primary"},"COVID-19 India",r.a.createElement("span",{className:"text-red-600 uppercase live-txt blink"},"Live"))),r.a.createElement("div",{className:"flex ml-auto mr-1"},a.map((function(e,a){return!0===e.showInNavbar?r.a.createElement(l.c,{exact:!0,to:e.pageLink,key:a,className:"mx-1 px-3 py-4 hidden lg:block nav-link",activeClassName:"relative nav-link-active"},r.a.createElement("span",(t=e.pageLink,n=e.animationDelayForNavbar,{className:"".concat(window.location.pathname===t?"focused":""),style:{animationDelay:"".concat(n,"s")}}),e.displayName)):null;var t,n}))))))},d=t(5),u=t.n(d),v=t(35),f=t(9),p=t(13);var b=function(e){var a=e.up?"5 12 12 5 19 12":"5 12 12 19 19 12";return r.a.createElement("svg",{style:{marginTop:"-0.14rem"},className:"inline-block",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),r.a.createElement("polyline",{points:a}))},x=Object(n.forwardRef)((function(e,a){e.count;var t=e.cards,c=e.styles,s=void 0===c?{}:c,l=Object(n.useState)(t),o=Object(i.a)(l,2),m=o[0],d=o[1];return Object(n.useImperativeHandle)(a,(function(){return{updateDisplayCardCounts:function(e){d(e)}}})),r.a.createElement("div",{className:"flex flex-row justify-center my-5 justify-between"},m.map((function(e,a){var t,n,c,l;return!1!==s.bg&&(t="bg-".concat(e.colorClass,"-100"),n="bg-".concat(e.colorClass,"-200")),!1!==s.shadow&&(c="shadow"),!1!==s.autoWidth&&(l="flex-auto"),r.a.createElement("div",{key:a,className:"".concat(a?"ml-2":""," w-24 flex ").concat(l," flex-col rounded overflow-hidden ").concat(c," text-center text-").concat(e.colorClass,"-600")},r.a.createElement("div",{className:"pt-2 flex flex-auto flex-col items-center justify-center ".concat(t," font-bold")},e.delta&&r.a.createElement("span",{className:"text-xs"},r.a.createElement(b,{up:e.delta>=0}),e.delta),r.a.createElement("span",{className:"text-xl lg:text-2xl py-1"},e.value+"")),r.a.createElement("div",{className:"py-2 w-full ".concat(n," text-sm font-semibold")},r.a.createElement("span",{className:""},e.name)))})))})),h=t(7),y=t.n(h);var E=function(e){var a=Object(n.useState)({columns:e.columns,rows:e.rows}),t=Object(i.a)(a,2),c=t[0],s=c.rows,l=c.columns,o=t[1];Object(n.useEffect)((function(){o({columns:e.columns.slice(0),rows:e.rows.slice(0)})}),[e]);var m=function(e){var a=e.currentTarget,t=a.dataset.prop,n=a.ascending=!a.ascending,r=s.slice(0).sort((function(e,a){return n?function(e,a){return a<e?-1:a>e?1:a>=e?0:NaN}(e[t],a[t]):function(e,a){return e<a?-1:e>a?1:e>=a?0:NaN}(e[t],a[t])}));o({rows:r,columns:l})};return r.a.createElement("table",{className:"w-full"},r.a.createElement("tbody",{className:"text-xs leading-tight border-b-2 cursor-pointer"},r.a.createElement("tr",null,l.map((function(e){return r.a.createElement("th",{className:"capitalize border px-2 py-2 sort-by",key:e.name,onClick:m,"data-prop":e.accessor,title:"Click to sort"},e.name)})))),r.a.createElement("tbody",{className:"font-bold"},s.map((function(e,a){return r.a.createElement("tr",{key:a},l.map((function(a,t){var n=a.accessor,c=a.colorClass,s=0,l=e[n],o="";return e.today&&(s=e.today[n]),"Unknown"===e.district&&(o="bg-".concat(c,"-200 text-").concat(c,"-600")),r.a.createElement("td",{key:t,className:"".concat(0===t?"bg-gray-200":"text-right","  text-2xs border px-2 py-2 ").concat(o)},r.a.createElement("span",null,t>0&&s?r.a.createElement("span",{className:" mr-1 text-".concat(c,"-600")},r.a.createElement(b,{up:s>0}),r.a.createElement("span",null,s)):""),r.a.createElement("span",{className:"text-sm"},l))})))}))))},N=t(15),w=t(16),g=t(18),j=t(17);function O(e){return void 0!==e}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{name:"Confirmed",value:e.infected,delta:a.infected,colorClass:"red"},{name:"Active",value:e.infected-e.recovered-e.dead,delta:a.infected-a.recovered-a.dead,colorClass:"orange"},{name:"Recovered",value:e.recovered,delta:a.recovered,colorClass:"green"},{name:"Dead",value:e.dead,delta:a.dead,colorClass:"gray"}].filter((function(e){return O(e.value)&&!isNaN(e.value)}))},k=function(e){Object(g.a)(t,e);var a=Object(j.a)(t);function t(e){var n,c=e.init;return Object(N.a)(this,t),(n=a.call(this)).state=c,n.child=r.a.createRef(),n}return Object(w.a)(t,[{key:"update",value:function(e,a){this.setState(e);var t=C(e,a);this.child.current.updateDisplayCardCounts(t)}},{key:"render",value:function(){var e=C(this.state),a=this.state,t=a.name;a.infected;return r.a.createElement("div",null,r.a.createElement("h2",{className:"font-extra-bold text-xl text-primary my-2"},t),r.a.createElement(x,{styles:{bg:!1,autoWidth:!1},cards:e,count:2e3,ref:this.child}))}}]),t}(r.a.Component),D=function(e){Object(g.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(N.a)(this,t),(n=a.call(this,e)).handleMapHover=function(e,a){n.child.current.update(e,a)},n.child=r.a.createRef(),n}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(u.a.mark((function e(){var a,t,n,r,c,s,l,o,m,d,v,f,p,b=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,t=a.stateCode,n=a.seriesPoints,r=a.joinBy,c=t.toLowerCase(),s="countries-ind-".concat(c,"-2"),l=[],o={},n.forEach((function(e){o[e[r]]=e})),e.next=5,Promise.all([y.a.get("/maps/".concat(t,".topojson")),y.a.get("/charts/map.json")]);case 5:m=e.sent,d=Object(i.a)(m,2),v=d[0].data,f=d[1].data,window.$ZC.mapCollections[s]=v,l=v.objects.source.geometries.map((function(e){var a=e.properties.name_ascii,t=0,n=0,r=0,c=0;if(o[a]){var s=o[a];t=s.confirmed,n=s.active,r=s.recovered,c=s.dead}return[a,t,n,r,c]})),this.myDiv&&(this.myDiv.classList.add("fade-in"),f.map.scope=s,f.seriesdata.chartdata[0].data=[l],p=null,f.chart.plot.plotoptions.geoheatmap.events={mousemove:function(e,a){var t=Object(i.a)(a.point,5),n=t[0],r=t[1],c=t[2],s=t[3],l=t[4],m={recovered:0,infected:0,active:0,dead:0};o[n]&&(m=o[n].today),n!==p&&(b.handleMapHover({name:n,infected:r,active:c,recovered:s,dead:l},m),p=n),window.d3.event.allowDefault=!0}},window.$ZC.maps(this.myDiv,f));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(k,{ref:this.child,init:this.props.init}),r.a.createElement("div",{className:"live-map my-6",ref:function(a){return e.myDiv=a}}))}}]),t}(r.a.Component);var L=function(e){Object(p.a)(e);var a=Object(n.useState)(!1),t=Object(i.a)(a,2),c=t[0],s=t[1],l=Object(n.useState)({}),o=Object(i.a)(l,2),m=(o[0],o[1]),d=Object(n.useState)({rows:[],columns:[]}),b=Object(i.a)(d,2),h=b[0],N=b[1],w=Object(n.useState)({}),g=Object(i.a)(w,2),j=g[0],O=g[1],C=Object(n.useRef)(),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{name:"Confirmed",value:e.infected,delta:a.infected,colorClass:"red"},{name:"Active",value:e.infected-e.recovered-e.dead,delta:a.infected-a.recovered-a.dead,colorClass:"orange"},{name:"Recovered",value:e.recovered,delta:a.recovered,colorClass:"green"},{name:"Dead",value:e.dead,delta:a.dead,colorClass:"gray"}]},L=Object(n.useState)(k()),P=Object(i.a)(L,2),S=P[0],A=P[1],R=Object(n.useState)([]),H=Object(i.a)(R,2),M=H[0],T=H[1];Object(n.useEffect)((function(){!1===c&&B()}),[c]);var B=function(){var e=Object(f.a)(u.a.mark((function e(){var a,t,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([y.a.get("/data/trend_v2.json")]);case 3:a=e.sent,t=Object(i.a)(a,1),n=t[0].data,console.log(n),m(n),A(k(n.total,n.trend.today)),T([]),r=Object(v.a)({},n.total,{name:"India"}),n.total.active=n.total.infected-n.total.recovered-n.total.dead,O(r),c=window.innerWidth<769,N({rows:n.states,columns:[{name:"state/UT",accessor:"state"},{name:c?"cnfmd":"confirmed",accessor:"infected",colorClass:"text-red-600"},{name:c?"actv":"active",accessor:"active",colorClass:"text-orange-600"},{name:c?"Rcvrd":"recovered",accessor:"recovered",colorClass:"text-green-600"},{name:"dead",accessor:"dead",colorClass:"text-gray-600"}]}),s(!0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container opacity-0 my-2 ".concat(c?"fade-in":"")},r.a.createElement("h1",{className:"font-bold my-6 text-center md:text-3xl text-xl"},"Live Covid-19 statistcs - India"),r.a.createElement("div",{className:"flex flex-wrap -mx-2 justify-center"},r.a.createElement("div",{className:"w-full md:w-40 md:px-6 px-1"},r.a.createElement("div",{className:"".concat(c?"fade-in anim-delay-2":"")},c&&r.a.createElement(D,{init:j,seriesPoints:M,stateCode:"IND"}))),r.a.createElement("div",{className:"w-full md:w-40 md:px-6 px-1 pb-4"},r.a.createElement("div",{className:"w-full fade-in"},c&&r.a.createElement(x,{ref:C,cards:S,count:2e3})),r.a.createElement("div",{className:"w-full my-6 ".concat(c?"fade-in anim-delay-1":"")},c&&r.a.createElement(E,{rows:h.rows,columns:h.columns}))))))};var P=function(e){Object(p.a)(e);var a=Object(n.useState)(!1),t=Object(i.a)(a,2),c=t[0],s=t[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),m=o[0],d=o[1];Object(n.useEffect)((function(){!1===c&&v()}),[c]);var v=function(){var e=Object(f.a)(u.a.mark((function e(){var a,t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([y.a.get("data/helplines.json")]);case 3:a=e.sent,t=Object(i.a)(a,1),n=t[0].data,d(n),s(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container px-4",id:"help-lines"},Object.keys(m).map((function(e,a){return console.log(10*a),r.a.createElement("div",{key:a},r.a.createElement("div",{className:"fade-in border-l-2 border-primary text-primary font-bold p-2 uppercase my-2"},r.a.createElement("span",{className:"ml-1"},e)),r.a.createElement("div",{className:"flex flex-wrap -mx-2"},m[e].map((function(e,a){return r.a.createElement("div",{key:"".concat(JSON.stringify(e)),className:"fade-in md:w-auto w-full shadow px-4 py-2 text-base mx-2 my-2 md:flex-basis-250",style:{animationDelay:30*a+"ms"}},r.a.createElement("div",{className:"font-bold"},e.name),r.a.createElement("a",{className:"pr-2 underline text-blue-500",href:(t=e.number,n=e.type,"phone"===n?"tel:".concat(t):"whatsapp"===n?"whatsapp://send?phone=".concat(t):"email"===n?"mailto:".concat(n):t)},e.number));var t,n}))))})))},S={AP:"Andhra Pradesh",AR:"Arunachal Pradesh",AS:"Assam",BR:"Bihar",CT:"Chhattisgarh",GA:"Goa",GJ:"Gujarat",HR:"Haryana",HP:"Himachal Pradesh",JH:"Jharkhand",KA:"Karnataka",KL:"Kerala",MP:"Madhya Pradesh",MH:"Maharashtra",MN:"Manipur",ML:"Meghalaya",MZ:"Mizoram",NL:"Nagaland",OR:"Odisha",PB:"Punjab",RJ:"Rajasthan",SK:"Sikkim",TN:"Tamil Nadu",TG:"Telangana",TR:"Tripura",UT:"Uttarakhand",UP:"Uttar Pradesh",WB:"West Bengal",AN:"Andaman and Nicobar Islands",CH:"Chandigarh",DN:"Dadra and Nagar Haveli",DD:"Daman and Diu",DL:"Delhi",JK:"Jammu and Kashmir",LA:"Ladakh",LD:"Lakshadweep",PY:"Puducherry"},A={DL:21763471,HR:28941133,KL:36475649,HP:7560770,PB:30355185,GA:1587012,TG:39184011,UT:11140566,CH:1142479,LD:72172,DN:384058,GJ:64801901,CT:28989789,DD:223165,AN:411278,TN:77177540,MH:121924973,KA:66834193,OR:45861035,WB:98662146,PY:1394026,AP:53390841,JH:37933898,TR:4112223,MP:83849671,MZ:1222134,UP:233378519,RJ:79584255,SK:680721,BH:122256981,MN:3048861,AR:1548776,JK:13468313,LA:279924,NL:2218634,ML:3320226,AS:35080827},R=window.d3;var H=function(e){Object(p.a)(e);var a=Object(n.useState)(!1),t=Object(i.a)(a,2),c=t[0],s=t[1],m=Object(n.useState)({rows:[],columns:[]}),d=Object(i.a)(m,2),v=d[0],b=d[1],h=Object(n.useState)({}),N=Object(i.a)(h,2),w=N[0],g=N[1],j=Object(n.useState)({}),O=Object(i.a)(j,2),C=O[0],k=O[1],L=Object(n.useRef)(),P=Object(o.h)().stateCode,H=Object(o.g)(),M=S[P],T=Object.keys(S),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{name:"Confirmed",value:e.confirmed,delta:a.confirmed,colorClass:"red"},{name:"Active",value:e.active,delta:a.active,colorClass:"orange"},{name:"Recovered",value:e.recovered,delta:a.recovered,colorClass:"green"},{name:"Dead",value:e.dead,delta:a.dead,colorClass:"gray"}]},J=Object(n.useState)(B()),I=Object(i.a)(J,2),K=I[0],U=I[1],W=Object(n.useState)([]),_=Object(i.a)(W,2),G=_[0],F=_[1];Object(n.useEffect)((function(){s(!1),Z()}),[P]);var Z=function(){var e=Object(f.a)(u.a.mark((function e(){var a,t,n,r,c,l,o,m,d,v,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([y.a.get("/data/district_v2.json"),y.a.get("/data/trend_v2.json")]);case 3:a=e.sent,t=Object(i.a)(a,2),n=t[0].data,r=t[1].data,c=n[P],l=r.states[P],o=l.testing_data,m=R.timeParse("%d/%m/%Y"),d=R.timeFormat("%B %d"),v=A[P],f={tested:o.tested.toLocaleString(),date:d(m(o.date)),population:v.toLocaleString(),test_per_million:Math.round(o.tested/v*1e6).toLocaleString()},k(f),U(B(l,l.today)),F(c.districts),g({}),b({rows:c.districts,columns:[{name:"district",accessor:"district"},{name:"confirmed",accessor:"confirmed",colorClass:"red"},{name:"active",accessor:"active",colorClass:"orange"},{name:"recovered",accessor:"recovered",colorClass:"green"},{name:"deceased",accessor:"dead",colorClass:"gray"}]}),s(!0),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container opacity-0 my-2 ".concat(c?"fade-in":"")},r.a.createElement("div",{className:"flex flex-wrap -mx-2 justify-center"},r.a.createElement("div",{className:"w-full md:w-40 md:px-6"},c&&r.a.createElement("div",{className:"w-full md:w-40 font-bold cursor-pointer flex pb-6 text-xs text-gray-600 items-center"},r.a.createElement(l.b,{to:"/"},"Home")," ",r.a.createElement("span",{className:"px-1"},"/"),r.a.createElement("select",{onChange:function(e){H.push("/state/"+e.target.value)},defaultValue:P,name:"states",className:"bg-gray-200 font-bold appearance-none py-1 px-2 state-select"},T.map((function(e){return r.a.createElement("option",{value:e,key:e},S[e])})))),r.a.createElement("div",{className:"my-6"},r.a.createElement("h1",{className:"font-extra-bold text-primary text-3xl"},M),r.a.createElement("div",{className:"text-sm"},"Last Updated on")),r.a.createElement("div",{className:"w-full fade-in"},c&&r.a.createElement(x,{ref:L,cards:K,count:2e3})),r.a.createElement("div",{className:"w-full my-6 ".concat(c?"fade-in anim-delay-1":"")},c&&r.a.createElement(E,{rows:v.rows,columns:v.columns}))),r.a.createElement("div",{className:"w-full md:w-40 md:px-6 mt-6 pt-2"},r.a.createElement("div",{className:"sticky"},r.a.createElement("div",{className:"flex justify-between fade-in anim-delay-2"},r.a.createElement("div",{className:"text-blue-600 items-center justify-center p-2"},r.a.createElement("div",{className:"text-xs py-1"},"Tested"),r.a.createElement("div",{className:"text-xl font-bold"},C.tested),r.a.createElement("div",{className:"text-xs"},"As of ",C.date," as per"," ",r.a.createElement("span",{className:"bg-blue-100"},"source"))),r.a.createElement("div",{className:"text-blue-600 items-center justify-center text-right p-2"},r.a.createElement("div",{className:"text-xs py-1"},"Population"),r.a.createElement("div",{className:"text-sm font-bold"},C.population),r.a.createElement("div",{className:"text-sm font-bold"},C.test_per_million," tests / million people"))),r.a.createElement("div",{className:"".concat(c?"fade-in opacity-0  anim-delay-2 py-4":"")},c&&r.a.createElement(D,{init:w,stateCode:P,seriesPoints:G,joinBy:"district"}))))),r.a.createElement("div",{className:"flex flex-wrap -mx-2 justify-center"},r.a.createElement("div",{className:"w-full md:w-40 md:mx-6  mt-6 pt-2 percent-chart border"}),r.a.createElement("div",{className:"w-full md:w-40 md:mx-6  mt-6 pt-2 percent-chart border"})),r.a.createElement("div",{className:"flex flex-wrap -mx-2 justify-center"},r.a.createElement("div",{className:"w-full md:w-40 md:mx-6  mt-6 pt-2 percent-chart border"}),r.a.createElement("div",{className:"w-full md:w-40 md:mx-6  mt-6 pt-2 percent-chart border"})),r.a.createElement("div",{className:"flex flex-wrap -mx-2 justify-center"},r.a.createElement("div",{className:"w-full md:w-40 md:mx-6  mt-6 pt-2 percent-chart border"}),r.a.createElement("div",{className:"w-full md:w-40 md:mx-6  mt-6 pt-2 percent-chart border"})))};t(65);var M=function(){var e=[{pageLink:"/",view:L,displayName:"Home",animationDelayForNavbar:.2,showInNavbar:!0},{pageLink:"/helplines",view:P,displayName:"Helplines",animationDelayForNavbar:.6,showInNavbar:!0},{pageLink:"/state/:stateCode",view:H,displayName:"State",animationDelayForNavbar:.8,showInNavbar:!1}];return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{basename:""},r.a.createElement(o.b,{render:function(a){var t=a.location;return r.a.createElement("div",{className:"Almighty-Router"},r.a.createElement(m,{pages:e}),r.a.createElement(o.d,{location:t},e.map((function(e,a){return r.a.createElement(o.b,{exact:!0,path:e.pageLink,render:function(t){var n=t.match;return r.a.createElement(e.view,{key:n.params.stateCode||a})},key:a})})),r.a.createElement(o.a,{to:"/"})))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.f0836fa8.chunk.js.map